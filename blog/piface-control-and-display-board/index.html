
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>PiFace Control And Display Board - Swindon Hackspace</title>
  <meta name="author" content="Swindon Hackspace">

  
  <meta name="description" content="The Hackspace recently took delivery of a PiFace Control and Display board from Farnell.
It is an add-on board for the Raspberry Pi that includes a &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://swindon.hackspace.org.uk/blog/piface-control-and-display-board">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/stylesheets/print.css" media="print" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Swindon Hackspace" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  
  <!-- Google site verification -->
  <meta name="google-site-verification" content="PubgJ00VUIj1r0qaB3oR0KwXirQKu3XAhBh0YduPdS0" />

  <!-- Apple touch icons -->
  <link href="/apple-touch-icon-ipad.png" rel="apple-touch-icon-precomposed" sizes="144x144" />
  <link href="/apple-touch-icon-ipad.png" rel="apple-touch-icon-precomposed" sizes="72x72" />
  <link href="/apple-touch-icon-iphone.png" rel="apple-touch-icon-precomposed" sizes="114x114" />
  <link href="/apple-touch-icon-iphone.png" rel="apple-touch-icon-precomposed" sizes="57x57" />

  <!-- Windows 8 Tile -->
  <meta name="application-name" content="Swindon Hackspace"/>
  <meta name="msapplication-TileColor" content="#ff7700"/>
  <meta name="msapplication-TileImage" content="/apple-touch-icon-ipad.png"/>

  <!-- Original logo SVG file: see http://relogo.org/ -->
  <link rel="logo" type="image/svg" href="/images/hackspace_logo.svg" />

  <!-- Link to full license file -->
  <link rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.en" />

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-42399191-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Swindon Hackspace</a></h1>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="main-navigation" data-subscription="rss">
    <li><a href="/about/">About Us</a></li>
  <li><a href="/hackspace/">The Space</a></li>
  <li><a href="/blog/">Articles</a></li>
  <li><a href="https://github.com/snhack/snhack.github.io/wiki">Wiki</a></li>

  
  <li><a href="feed://swindon.hackspace.org.uk/atom.xml" rel="subscribe-rss-no-icon" title="Subscribe via RSS">RSS</a></li>
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:swindon.hackspace.org.uk" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">PiFace Control and Display Board</h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-05-08T17:20:00+01:00" pubdate data-updated="true">May 8<span>th</span>, 2014</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>The Hackspace recently took delivery of a 
<a href="http://uk.farnell.com/piface/piface-control-display/i-o-board-with-lcd-display-for/dp/2344458">PiFace Control and Display board from Farnell</a>.
It is an add-on board for the Raspberry Pi that includes a 16 character by 2 line
display, five push buttons, a toggle button and an IR receiver.  The 
intention is to use this on the Hackspace 3D printer to display some information
about the printer (bed and extruder temperatures) and about the job (percent
complete).  It would also be nice to use the buttons to control some of the 
functions of the printer such as priming the extruder.</p>

<p>In this post I’ll cover what I did to get up and running with the PiFace.  This
was really just a learning exercise to understand how it works and what can be
done.  There will be another post about getting it working with the 3D printer
later on.</p>

<!-- more -->

<p><img src="/blog/piface-control-and-display-board/Piface.jpg" alt="PiFace" /></p>

<h2 id="getting-the-raspberry-pi-ready">Getting The Raspberry Pi Ready</h2>

<p>There is a nice guide on getting everything setup on the <a href="http://www.piface.org.uk/guides/setting_up_pifacecad/">PiFace website</a>
so I won’t go into every detail again.  In short:</p>

<ul>
  <li>
    <p>Updated the Raspbian install on our Raspberry Pi by running 
<code>apt-get update &amp;&amp; apt-get upgrade</code>  This took some hours, must have 
been quite a while since we did it!</p>
  </li>
  <li>
    <p>Enabled SPI using <code>raspi-config</code>.  What this actually seems to do is make 
sure the spi kernel module is installed.</p>
  </li>
</ul>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><pre><code class="sh"><span class="line">pi@raspberrypi ~ <span class="nv">$ </span>lsmod |grep spi
</span><span class="line">regmap_spi              1897  1 snd_soc_core
</span><span class="line">spi_bcm2708             4728  0
</span></code></pre></div></figure></notextile></div>

<ul>
  <li>Installed the PiFace Python modules <code>apt-get install python3-pifacecad</code>.
It’s nice that it is included in the Raspbian repos and can be installed so easily.</li>
</ul>

<h2 id="first-test">First Test</h2>

<p>The best idea is always to test using some code written by someone else
so that you know you have everything setup correctly.  Fortunately there is
a nice sysinfo sample provided.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><pre><code class="sh"><span class="line">pi@raspberrypi ~ <span class="nv">$ </span>python3 /usr/share/doc/python3-pifacecad/examples/sysinfo.py
</span></code></pre></div></figure></notextile></div>

<p><img src="/blog/piface-control-and-display-board/Sysinfo.jpg" alt="Sysinfo Demo" /></p>

<p>That works perfectly.  Time to dive into python and see what the api is like.</p>

<h2 id="hello-world-using-the-python-shell">Hello World Using The Python Shell</h2>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><pre><code class="py"><span class="line"><span class="n">pi</span><span class="nd">@raspberrypi</span> <span class="o">~</span> <span class="err">$</span> <span class="n">python3</span>
</span><span class="line"><span class="n">Python</span> <span class="mf">3.2</span><span class="o">.</span><span class="mi">3</span> <span class="p">(</span><span class="n">default</span><span class="p">,</span> <span class="n">Mar</span>  <span class="mi">1</span> <span class="mi">2013</span><span class="p">,</span> <span class="mi">11</span><span class="p">:</span><span class="mi">53</span><span class="p">:</span><span class="mi">50</span><span class="p">)</span>
</span><span class="line"><span class="p">[</span><span class="n">GCC</span> <span class="mf">4.6</span><span class="o">.</span><span class="mi">3</span><span class="p">]</span> <span class="n">on</span> <span class="n">linux2</span>
</span><span class="line"><span class="n">Type</span> <span class="s">&quot;help&quot;</span><span class="p">,</span> <span class="s">&quot;copyright&quot;</span><span class="p">,</span> <span class="s">&quot;credits&quot;</span> <span class="ow">or</span> <span class="s">&quot;license&quot;</span> <span class="k">for</span> <span class="n">more</span> <span class="n">information</span><span class="o">.</span>
</span><span class="line"><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">pifacecad</span> <span class="kn">as</span> <span class="nn">p</span>
</span><span class="line"><span class="o">&gt;&gt;&gt;</span> <span class="n">cad</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">PiFaceCAD</span><span class="p">()</span>
</span><span class="line"><span class="o">&gt;&gt;&gt;</span> <span class="n">cad</span><span class="o">.</span><span class="n">lcd</span><span class="o">.</span><span class="n">backlight_on</span><span class="p">()</span>
</span><span class="line"><span class="o">&gt;&gt;&gt;</span> <span class="n">cad</span><span class="o">.</span><span class="n">lcd</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;Hello World!&quot;</span><span class="p">)</span>
</span></code></pre></div></figure></notextile></div>

<p><img src="/blog/piface-control-and-display-board/HelloWorld.jpg" alt="Hello World" /></p>

<p>Pretty simple!  It took me much longer than this to get one of these
displays working on Arduino the first time I tried it.  But a lot of 
that was sorting out the wiring!  Thats one good reason to get a 
PiFace instead of wiring up your own display.</p>

<h2 id="something-a-bit-fancier">Something A Bit Fancier</h2>

<p>Ok, let’s try something a bit more tricky.  There are api commands to
move the cursor around and to hide the cursor, so let’s have a go with those.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><pre><code class="py"><span class="line"><span class="n">pi</span><span class="nd">@raspberrypi</span> <span class="o">~</span> <span class="err">$</span> <span class="n">python3</span>
</span><span class="line"><span class="n">Python</span> <span class="mf">3.2</span><span class="o">.</span><span class="mi">3</span> <span class="p">(</span><span class="n">default</span><span class="p">,</span> <span class="n">Mar</span>  <span class="mi">1</span> <span class="mi">2013</span><span class="p">,</span> <span class="mi">11</span><span class="p">:</span><span class="mi">53</span><span class="p">:</span><span class="mi">50</span><span class="p">)</span>
</span><span class="line"><span class="p">[</span><span class="n">GCC</span> <span class="mf">4.6</span><span class="o">.</span><span class="mi">3</span><span class="p">]</span> <span class="n">on</span> <span class="n">linux2</span>
</span><span class="line"><span class="n">Type</span> <span class="s">&quot;help&quot;</span><span class="p">,</span> <span class="s">&quot;copyright&quot;</span><span class="p">,</span> <span class="s">&quot;credits&quot;</span> <span class="ow">or</span> <span class="s">&quot;license&quot;</span> <span class="k">for</span> <span class="n">more</span> <span class="n">information</span><span class="o">.</span>
</span><span class="line"><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">pifacecad</span> <span class="kn">as</span> <span class="nn">p</span>
</span><span class="line"><span class="o">&gt;&gt;&gt;</span> <span class="n">cad</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">PiFaceCAD</span><span class="p">()</span>
</span><span class="line"><span class="o">&gt;&gt;&gt;</span> <span class="n">cad</span><span class="o">.</span><span class="n">lcd</span><span class="o">.</span><span class="n">backlight_on</span><span class="p">()</span>
</span><span class="line"><span class="o">&gt;&gt;&gt;</span> <span class="n">cad</span><span class="o">.</span><span class="n">lcd</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</span><span class="line"><span class="o">&gt;&gt;&gt;</span> <span class="n">cad</span><span class="o">.</span><span class="n">lcd</span><span class="o">.</span><span class="n">set_cursor</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
</span><span class="line"><span class="o">&gt;&gt;&gt;</span> <span class="n">cad</span><span class="o">.</span><span class="n">lcd</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;Swindon&quot;</span><span class="p">)</span>
</span><span class="line"><span class="o">&gt;&gt;&gt;</span> <span class="n">cad</span><span class="o">.</span><span class="n">lcd</span><span class="o">.</span><span class="n">set_cursor</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</span><span class="line"><span class="o">&gt;&gt;&gt;</span> <span class="n">cad</span><span class="o">.</span><span class="n">lcd</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;Hackspace&quot;</span><span class="p">)</span>
</span><span class="line"><span class="o">&gt;&gt;&gt;</span> <span class="n">cad</span><span class="o">.</span><span class="n">lcd</span><span class="o">.</span><span class="n">cursor_off</span><span class="p">()</span>
</span><span class="line"><span class="o">&gt;&gt;&gt;</span> <span class="n">cad</span><span class="o">.</span><span class="n">lcd</span><span class="o">.</span><span class="n">blink_off</span><span class="p">()</span>
</span></code></pre></div></figure></notextile></div>

<p>A few points to note here.  For the non-programmers out there, computers count 
from zero, so “5” is actually the 6th position along and “0” is the first row. 
Interesting that you have to call both <code>cursor_off()</code> and <code>blink_off()</code> to totally 
get rid of the cursor, but that could be useful in certain situations.</p>

<p><img src="/blog/piface-control-and-display-board/Hackspace.jpg" alt="Swindon Hackspace" /></p>

<h2 id="custom-bitmaps">Custom Bitmaps</h2>

<p>It would be nice if I could get the Swindon Hackspace logo on there too 
using the custom bitmap support.  From the 
<a href="http://piface.github.io/pifacecad/creating_custom_bitmaps.html">documentation</a>
it doesn’t look too difficult,  there is a <a href="http://www.quinapalus.com/hd44780udg.html">page for generating the codes</a> 
to create characters that is linked to from the documentation.  If you’re familiar with
setting bits in bytes it’s fairly easy to see what is going on; if you want the
right most pixel to be on, add 1, the second from the right, add 2, third
from the right add 4, fourth from the right, add 8, fifth from the right
add 16.  Do this for each line and you have the 8 values you need to pass 
into the <code>LCDBitmap()</code> function.</p>

<p>However there isn’t really enough room to get the hackspace logo in a single 
character so let’s try using more than one.  No mention of how many custom 
characters you are allowed in the PiFace docs, but the designer page about 
the HD44780 says you can have up to eight.  If we had 3x2 that would give us 
(5+5+5) x (8+8) = 15x16 pixels to play with.  That’s a nice square-ish shape and 
uses 6 custom characters so could work.  </p>

<p>I created a new image in Gimp that is 15x16 pixels, zoom in to 1600% and 
started designing by filling in pixels.  I then “split” this into six by using
the select tool to draw round each group of 5x8 pixels and copied it into
the online designer to generate the codes.  Lazy I know, I could work out
those numbers myself!</p>

<p>My first attempt didn’t look so great because of where the physical gaps 
between the characters on the display fell, but a bit of tweaking and I ended 
up with something like this:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><pre><code class="py"><span class="line"><span class="o">&gt;&gt;&gt;</span> <span class="n">sh</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">LCDBitmap</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">14</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">24</span><span class="p">,</span><span class="mi">24</span><span class="p">,</span><span class="mi">31</span><span class="p">,</span><span class="mi">31</span><span class="p">])</span>
</span><span class="line"><span class="o">&gt;&gt;&gt;</span> <span class="n">cad</span><span class="o">.</span><span class="n">lcd</span><span class="o">.</span><span class="n">store_custom_bitmap</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">sh</span><span class="p">)</span>
</span><span class="line"><span class="o">&gt;&gt;&gt;</span> <span class="n">sh</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">LCDBitmap</span><span class="p">([</span><span class="mi">31</span><span class="p">,</span><span class="mi">31</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">27</span><span class="p">,</span><span class="mi">27</span><span class="p">,</span><span class="mi">27</span><span class="p">,</span><span class="mi">31</span><span class="p">,</span><span class="mi">31</span><span class="p">])</span>
</span><span class="line"><span class="o">&gt;&gt;&gt;</span> <span class="n">cad</span><span class="o">.</span><span class="n">lcd</span><span class="o">.</span><span class="n">store_custom_bitmap</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">sh</span><span class="p">)</span>
</span><span class="line"><span class="o">&gt;&gt;&gt;</span> <span class="n">sh</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">LCDBitmap</span><span class="p">([</span><span class="mi">24</span><span class="p">,</span><span class="mi">28</span><span class="p">,</span><span class="mi">14</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
</span><span class="line"><span class="o">&gt;&gt;&gt;</span> <span class="n">cad</span><span class="o">.</span><span class="n">lcd</span><span class="o">.</span><span class="n">store_custom_bitmap</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">sh</span><span class="p">)</span>
</span><span class="line"><span class="o">&gt;&gt;&gt;</span> <span class="n">sh</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">LCDBitmap</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">24</span><span class="p">,</span><span class="mi">28</span><span class="p">,</span><span class="mi">14</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
</span><span class="line"><span class="o">&gt;&gt;&gt;</span> <span class="n">cad</span><span class="o">.</span><span class="n">lcd</span><span class="o">.</span><span class="n">store_custom_bitmap</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">sh</span><span class="p">)</span>
</span><span class="line"><span class="o">&gt;&gt;&gt;</span> <span class="n">sh</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">LCDBitmap</span><span class="p">([</span><span class="mi">31</span><span class="p">,</span><span class="mi">31</span><span class="p">,</span><span class="mi">27</span><span class="p">,</span><span class="mi">27</span><span class="p">,</span><span class="mi">27</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">31</span><span class="p">,</span><span class="mi">31</span><span class="p">])</span>
</span><span class="line"><span class="o">&gt;&gt;&gt;</span> <span class="n">cad</span><span class="o">.</span><span class="n">lcd</span><span class="o">.</span><span class="n">store_custom_bitmap</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">sh</span><span class="p">)</span>
</span><span class="line"><span class="o">&gt;&gt;&gt;</span> <span class="n">sh</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">LCDBitmap</span><span class="p">([</span><span class="mi">31</span><span class="p">,</span><span class="mi">31</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">14</span><span class="p">,</span><span class="mi">28</span><span class="p">,</span><span class="mi">24</span><span class="p">])</span>
</span><span class="line"><span class="o">&gt;&gt;&gt;</span> <span class="n">cad</span><span class="o">.</span><span class="n">lcd</span><span class="o">.</span><span class="n">store_custom_bitmap</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">sh</span><span class="p">)</span>
</span></code></pre></div></figure></notextile></div>

<p>That code loads six custom characters into memory locations zero to five.
Now all we need to do is write them out to the display.  It might be wise 
to turn the cursor back on at this point to see where we are writing to:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><pre><code class="py"><span class="line"><span class="o">&gt;&gt;&gt;</span> <span class="n">cad</span><span class="o">.</span><span class="n">lcd</span><span class="o">.</span><span class="n">cursor_on</span><span class="p">()</span>
</span><span class="line"><span class="o">&gt;&gt;&gt;</span> <span class="n">cad</span><span class="o">.</span><span class="n">lcd</span><span class="o">.</span><span class="n">blink_on</span><span class="p">()</span>
</span><span class="line"><span class="o">&gt;&gt;&gt;</span> <span class="n">cad</span><span class="o">.</span><span class="n">lcd</span><span class="o">.</span><span class="n">set_cursor</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
</span></code></pre></div></figure></notextile></div>

<p>Note that the cursor doesn’t reappear until you move it somewhere. Time 
to write out the logo and finally hide the cursor again.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><pre><code class="py"><span class="line"><span class="o">&gt;&gt;&gt;</span> <span class="n">cad</span><span class="o">.</span><span class="n">lcd</span><span class="o">.</span><span class="n">write_custom_bitmap</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span class="line"><span class="o">&gt;&gt;&gt;</span> <span class="n">cad</span><span class="o">.</span><span class="n">lcd</span><span class="o">.</span><span class="n">write_custom_bitmap</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span class="line"><span class="o">&gt;&gt;&gt;</span> <span class="n">cad</span><span class="o">.</span><span class="n">lcd</span><span class="o">.</span><span class="n">write_custom_bitmap</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</span><span class="line"><span class="o">&gt;&gt;&gt;</span> <span class="n">cad</span><span class="o">.</span><span class="n">lcd</span><span class="o">.</span><span class="n">set_cursor</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</span><span class="line"><span class="o">&gt;&gt;&gt;</span> <span class="n">cad</span><span class="o">.</span><span class="n">lcd</span><span class="o">.</span><span class="n">write_custom_bitmap</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</span><span class="line"><span class="o">&gt;&gt;&gt;</span> <span class="n">cad</span><span class="o">.</span><span class="n">lcd</span><span class="o">.</span><span class="n">write_custom_bitmap</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
</span><span class="line"><span class="o">&gt;&gt;&gt;</span> <span class="n">cad</span><span class="o">.</span><span class="n">lcd</span><span class="o">.</span><span class="n">write_custom_bitmap</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</span><span class="line"><span class="o">&gt;&gt;&gt;</span>
</span><span class="line"><span class="o">&gt;&gt;&gt;</span> <span class="n">cad</span><span class="o">.</span><span class="n">lcd</span><span class="o">.</span><span class="n">cursor_off</span><span class="p">()</span>
</span><span class="line"><span class="o">&gt;&gt;&gt;</span> <span class="n">cad</span><span class="o">.</span><span class="n">lcd</span><span class="o">.</span><span class="n">blink_off</span><span class="p">()</span>
</span></code></pre></div></figure></notextile></div>

<p><img src="/blog/piface-control-and-display-board/HackspaceLogo.jpg" alt="Custom Bitmaps" /></p>

<p>A pretty pleasing result for an hour of playing around in the Python
shell.</p>

<p>Interestingly, if you redefine one of the custom bitmaps by calling 
<code>store_custom_bitmap()</code> while it is on the display, it changes immediately 
without you having to rewrite it using <code>write_custom_bitmap()</code>.  This 
could be a neat way to have animated characters.  It does mean that 
you really are limited to the 8 it supports though, and you can’t 
“cheat” by defining one, writing it to the display and then re-defining it.</p>

<h2 id="errors">Errors</h2>

<p>If you do try to access or create more custom bitmaps than you should 
you get a nice friendly error message, which is good to know.  It’s always
reassuring that a library is decently written when it provides nice error
messages.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><pre><code class="py"><span class="line"><span class="o">&gt;&gt;&gt;</span> <span class="n">cad</span><span class="o">.</span><span class="n">lcd</span><span class="o">.</span><span class="n">write_custom_bitmap</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
</span><span class="line"><span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
</span><span class="line">  <span class="n">File</span> <span class="s">&quot;&lt;stdin&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
</span><span class="line">  <span class="n">File</span> <span class="s">&quot;/usr/lib/python3/dist-packages/pifacecad/lcd.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">458</span><span class="p">,</span> <span class="ow">in</span> <span class="n">write_custom_bitmap</span>
</span><span class="line">	<span class="bp">self</span><span class="o">.</span><span class="n">char_bank_in_range_or_error</span><span class="p">(</span><span class="n">char_bank</span><span class="p">)</span>
</span><span class="line">  <span class="n">File</span> <span class="s">&quot;/usr/lib/python3/dist-packages/pifacecad/lcd.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">492</span><span class="p">,</span> <span class="ow">in</span> <span class="n">char_bank_in_range_or_error</span>
</span><span class="line">	<span class="n">cgramaddr</span><span class="o">=</span><span class="n">char_bank</span><span class="p">,</span>
</span><span class="line"><span class="ne">Exception</span><span class="p">:</span> <span class="n">There</span> <span class="n">are</span> <span class="n">only</span> <span class="mi">8</span> <span class="n">custom</span> <span class="n">characters</span> <span class="p">(</span><span class="n">You</span> <span class="n">tried</span> <span class="n">to</span> <span class="n">access</span> <span class="mi">8</span><span class="p">)</span><span class="o">.</span>
</span><span class="line">
</span><span class="line"><span class="o">&gt;&gt;&gt;</span> <span class="n">cad</span><span class="o">.</span><span class="n">lcd</span><span class="o">.</span><span class="n">store_custom_bitmap</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="n">sh</span><span class="p">)</span>
</span><span class="line"><span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
</span><span class="line">  <span class="n">File</span> <span class="s">&quot;&lt;stdin&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
</span><span class="line">  <span class="n">File</span> <span class="s">&quot;/usr/lib/python3/dist-packages/pifacecad/lcd.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">474</span><span class="p">,</span> <span class="ow">in</span> <span class="n">store_custom_bitmap</span>
</span><span class="line">	<span class="bp">self</span><span class="o">.</span><span class="n">char_bank_in_range_or_error</span><span class="p">(</span><span class="n">char_bank</span><span class="p">)</span>
</span><span class="line">  <span class="n">File</span> <span class="s">&quot;/usr/lib/python3/dist-packages/pifacecad/lcd.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">492</span><span class="p">,</span> <span class="ow">in</span> <span class="n">char_bank_in_range_or_error</span>
</span><span class="line">	<span class="n">cgramaddr</span><span class="o">=</span><span class="n">char_bank</span><span class="p">,</span>
</span><span class="line"><span class="ne">Exception</span><span class="p">:</span> <span class="n">There</span> <span class="n">are</span> <span class="n">only</span> <span class="mi">8</span> <span class="n">custom</span> <span class="n">characters</span> <span class="p">(</span><span class="n">You</span> <span class="n">tried</span> <span class="n">to</span> <span class="n">access</span> <span class="mi">8</span><span class="p">)</span><span class="o">.</span>
</span></code></pre></div></figure></notextile></div>

<h2 id="and-finally">And Finally…</h2>

<p>Given I only know the basics in Python (though I do code in other languages)
it’s pretty easy to get started with the PiFace and make it do some cool stuff.
It seems like it should be fairly easy to get it doing something useful with
the 3D printer.  More on that later….</p>

<p>Thanks go to <a href="http://uk.farnell.com/">Farnell / Element14</a> for supplying the PiFace
Control and Display board.</p>

</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Robert Longbottom</span></span>

      








  


<time datetime="2014-05-08T17:20:00+01:00" pubdate data-updated="true">May 8<span>th</span>, 2014</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/projects/'>projects</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a class="sharebutton" id="tweetlink" target="twitter" href="//twitter.com/share?text=PiFace Control And Display Board - Swindon Hackspace&via=snhack&url=http://swindon.hackspace.org.uk/blog/piface-control-and-display-board/">
    <img class="button-img" id="twitter" src="/images/bird.png"></img>
    Tweet
  </a>
  
  
  <a href="https://groups.google.com/forum/#!topic/swindon-hackspace/ywV59enffto" class="sharebutton" id="discuss" target="discuss">
    <img class="button-img" id="discuss" src="/images/discuss.png"></img>
    Discuss
  </a>
  
  
  <a href="index.md" class="sharebutton" id="viewmd" target="sourcemmd">
    <img class="button-img" id="dfsymbol" src="/images/mmd.png"></img>
    Source
  </a>
  
  
  <a href="https://github.com/snhack/snhack.github.io/blob/source/source/_posts/2014-05-04-piface-control-and-display-board.md" class="sharebutton" id="viewhistory" target="sourcegit">
    <img class="button-img" id="octocat" src="/images/octocat.png"></img>
    Github
  </a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/diy-radiator-booster/" title="Previous Post: Diy Radiator Booster">&laquo; Diy Radiator Booster</a>
      
      
        <a class="basic-alignment right" href="/blog/octoprint-and-the-raspberry-pi-camera/" title="Next Post: Octoprint and the Raspberry Pi Camera Module">Octoprint and the Raspberry Pi Camera Module &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1><a href="/blog/archives/">Articles</a></h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/piface-shutdown-message/">PiFace Shutdown Message</a>
      </li>
    
      <li class="post">
        <a href="/blog/octoprint-and-the-raspberry-pi-camera/">Octoprint and the Raspberry Pi Camera Module</a>
      </li>
    
      <li class="post">
        <a href="/blog/piface-control-and-display-board/">PiFace Control and Display Board</a>
      </li>
    
      <li class="post">
        <a href="/blog/diy-radiator-booster/">Diy Radiator Booster</a>
      </li>
    
      <li class="post">
        <a href="/blog/quadcopter-builds/">Quadcopter Design and Build</a>
      </li>
    
  </ul>
</section>

<section>
  
  <h1><a href="http://groups.google.com/group/swindon-hackspace" target="googlegroup">Group</a></h1>
  
  <ul id="rss_feed_linkroll">
    <li class="loading">Fetching links...</li>
  </ul>
  <script type="text/javascript">
    var linkroll = 'rss_feed_linkroll';
    var rss_feed_url = "http://pipes.yahoo.com/pipes/pipe.run?_id=259ba707b877effd5c0bd3234ef10cf6&_render=json&url=https://groups.google.com/forum/feed/swindon-hackspace/topics/rss_v2_0.xml";
    var rss_item_count = 5;
    var rss_title_length = 30;
  </script>
  <script src="/javascripts/rss_feed.js" type="text/javascript"></script>
  
</section>


<section>
  <h1><a href="https://twitter.com/intent/user?screen_name=snhack" target="twitter">Twitter</a></h1>

  <div id="tweets"></div>

  
  <script type="text/javascript" src="/assets/twitterFetcher_v9_min.js"></script>

  <script>
    twitterFetcher.fetch("356204429415956482", 'tweets',
                          2, true,
                          false,
                          false, "default",
                          true);
  </script>
  

  
    <a class="sharebutton" id="twitter-follow" target="twitter" href="//twitter.com/intent/follow?&screen_name=snhack">
      <img class="button-img" id="twitter" src="/images/bird.png"></img>
      Follow @snhack
    </a>
  
</section>


<section>
  <h1><a href="https://github.com/snhack" target="github">GitHub</a></h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'snhack',
            count: 5,
            skip_forks: false,
            skip_sites: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><hr class="footer-rule">

<div id="copyright">
  Copyright &copy; 2012 - 2014
</div>


<div id="license">
  <a rel="license" href="http://git.io/snhack-license" title="Except where otherwise noted, content on this site is licensed under a Creative Commons BY-NC-SA 3.0 License">
  
    <span id="license_text">CC BY-NC-SA 3.0</span>
  
  </a>
</div>


<div id="siteauthor">Swindon Hackspace</div>

<div id="footer">
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</div>

</footer>
  









</body>
</html>
